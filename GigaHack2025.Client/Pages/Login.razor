@page "/login"
@using System.ComponentModel.DataAnnotations

<div class="login-container">
    <div class="login-card">
        <!-- Logo Section - UPDATED -->
        <div class="logo-section">
            <img src="images/generated-image-removebg-preview.png" alt="AgroHub Logo" class="logo-image" />
            <h1 class="brand-name">AgroHub</h1>
        </div>

        <!-- Form Section (rest remains the same) -->
        <div class="form-section">
            <h2 class="login-title">Log in</h2>
            <p class="login-subtitle">Log in to your AgroHub account</p>

            <EditForm Model="loginModel" OnValidSubmit="HandleLogin">
                <DataAnnotationsValidator />

                <!-- Email Field -->
                <div class="form-group">
                    <label for="email">Email*</label>
                    <InputText id="email"
                               @bind-Value="loginModel.Email"
                               placeholder="Enter email"
                               class="form-input" />
                    <ValidationMessage For="() => loginModel.Email" />
                </div>

                <!-- Password Field -->
                <div class="form-group">
                    <label for="password">Password*</label>
                    <InputText id="password"
                               @bind-Value="loginModel.Password"
                               type="password"
                               placeholder="Enter password"
                               class="form-input" />
                    <ValidationMessage For="() => loginModel.Password" />
                </div>

                <!-- Forgot Password Link -->
                <div class="forgot-password">
                    <a href="/forgot-password">Forgot password?</a>
                </div>

                <!-- Login Button -->
                <button type="submit"
                        disabled="@(!IsFormValid)"
                        class="login-button">
                    Log in
                </button>

                <!-- Sign Up Link -->
                <div class="signup-link">
                    <span>No account yet? </span>
                    <a href="/register">Sign up and explore the platform.</a>
                </div>
            </EditForm>
        </div>
    </div>
</div>

@code {
    private LoginModel loginModel = new();

    private bool IsFormValid =>
        !string.IsNullOrWhiteSpace(loginModel.Email) &&
        !string.IsNullOrWhiteSpace(loginModel.Password);

    private async Task HandleLogin()
    {
        // TODO: Implement authentication logic
        Console.WriteLine($"Login attempt: {loginModel.Email}");
    }

    public class LoginModel
    {
        [Required(ErrorMessage = "Email is required")]
        [EmailAddress(ErrorMessage = "Invalid email format")]
        public string Email { get; set; } = string.Empty;

        [Required(ErrorMessage = "Password is required")]
        [MinLength(6, ErrorMessage = "Password must be at least 6 characters")]
        public string Password { get; set; } = string.Empty;
    }
}
